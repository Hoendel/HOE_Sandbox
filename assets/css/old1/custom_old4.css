/* ===========================================================
   0) Farb-Tokens (Material: default/slate) + Custom-Variablen
   =========================================================== */

/* Heller Modus */
[data-md-color-scheme="default"]{
  --md-primary-fg-color:           #B04F34;
  --md-primary-fg-color--light:    #C65B3C;
  --md-primary-fg-color--dark:     #8E3F2A;
  --md-accent-fg-color:            #8F9CA3;

  --color-main:    var(--md-primary-fg-color);
  --color-accent:  var(--md-accent-fg-color);

  --on-main-dim:      rgba(0,0,0,.85);
  --on-main-strong:   #000000;
  --nav-text:         var(--md-default-fg-color);
  --nav-hover:        var(--color-main);
  --link-color:       #0645AD;
}

/* Dunkler Modus */
[data-md-color-scheme="slate"]{
  --md-primary-fg-color:           #B04F34;
  --md-primary-fg-color--light:    #D16651;
  --md-primary-fg-color--dark:     #8E3F2A;
  --md-accent-fg-color:            #B0BEC5;

  --color-main:    var(--md-primary-fg-color);
  --color-accent:  var(--md-accent-fg-color);

  --on-main-dim:      rgba(255,255,255,.90);
  --on-main-strong:   #FFFFFF;
  --nav-text:         var(--md-default-fg-color);
  --nav-hover:        #FF8A65;
  --link-color:       #90CAF9;
}


/* ===========================================================
   1) Header, Tabs, Footer – Grundlayout & Textverhalten
   =========================================================== */

.md-header,
.md-tabs,
.md-footer{
  background-color: var(--color-main) !important;
}

.md-header :is(a, .md-header__button),
.md-tabs   :is(a, .md-tabs__link),
.md-footer,
.md-footer :is(a, .md-footer-nav__link, .md-social__link, .md-footer-meta a){
  color: var(--on-main-dim) !important;
  background: transparent !important;
  text-decoration: none !important;
  box-shadow: none !important;
  opacity: 1 !important;
  transition: color .2s ease-in-out;
}

.md-header :is(a, .md-header__button):hover,
.md-tabs   :is(a, .md-tabs__link):hover,
.md-footer :is(a, .md-footer-nav__link, .md-social__link, .md-footer-meta a):hover{
  color: var(--on-main-strong) !important;
}

/* Footer-Nav sichtbar & eingefärbt */
.md-footer,
.md-footer__inner,
.md-footer-nav,
.md-footer-meta{
  background-color: var(--color-main) !important;
  border-top: none !important;
}
.md-footer-nav{
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
}
.md-footer-nav__link,
.md-footer-nav__link *,
.md-footer-nav__button,
.md-footer-nav__button *{
  color: inherit !important;
  fill: currentColor !important;
  stroke: currentColor !important;
}
.md-footer-nav__link,
.md-footer-nav__button{
  color: var(--on-main-dim) !important;
}
.md-footer-nav__link:hover,
.md-footer-nav__button:hover{
  color: var(--on-main-strong) !important;
}


/* ===========================================================
   2) Suchfeld im Header – „Pill“-Style
   =========================================================== */
.md-header .md-search__form{
  background-color: var(--md-primary-fg-color--dark) !important;
  border-radius: 12px !important;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.15) !important;
}
.md-header .md-search__input{ color: var(--on-main-dim) !important; }
.md-header .md-search__icon { color: var(--on-main-dim) !important; }
.md-header .md-search__input::placeholder{
  color: rgba(0,0,0,.55) !important;
  color: color-mix(in srgb, var(--on-main-dim) 70%, transparent) !important;
}
[data-md-color-scheme="slate"] .md-header .md-search__input::placeholder{
  color: rgba(255,255,255,.65) !important;
  color: color-mix(in srgb, var(--on-main-dim) 70%, transparent) !important;
}
.md-header .md-search__form:focus-within{
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--on-main-strong) 35%, transparent) !important;
}


/* ===========================================================
   3) Seitenleisten – Titelbalken (links) + TOC (rechts)
   =========================================================== */

.md-sidebar--primary .md-nav__list > .md-nav__item--section > label.md-nav__link{
  background: var(--color-main) !important;
  color: var(--on-main-dim) !important;
  font-weight: 700;
  padding: .35rem .65rem !important;
  border-radius: 10px !important;
  box-shadow: none !important;
  display: block; width: 100%;
}
.md-sidebar--primary .md-nav__list > .md-nav__item--section > label.md-nav__link:hover{
  color: var(--on-main-strong) !important;
}

/* TOC-Titel rechts */
.md-nav--secondary .md-nav__title{
  background: var(--color-main) !important;
  color: var(--on-main-dim) !important;
  font-weight: 700;
  padding: .35rem .65rem !important;
  border-radius: 10px !important;
  box-shadow: none !important;
  display: block; width: 100%;
}


/* ===========================================================
   4) Seitenleisten – Links: Hover/Active vereinheitlicht
   =========================================================== */

.md-nav--primary   .md-nav__link,
.md-nav--secondary .md-nav__link{
  color: var(--nav-text) !important;
  background: transparent !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  transition: color .15s ease-in-out;
}

.md-nav--primary   .md-nav__link:hover,
.md-nav--secondary .md-nav__link:hover{
  color: var(--nav-hover) !important;
}

/* Aktiv: fett + Kometensilber */
.md-nav--primary   .md-nav__item--active > .md-nav__link,
.md-nav--secondary .md-nav__item--active > .md-nav__link,
.md-nav--primary .md-nav__link--active,
.md-nav--secondary .md-nav__link--active{
  color: var(--color-accent) !important;
  font-weight: 700 !important;
  background: transparent !important;
}

/* Theme-Deko entfernen */
.md-nav__link::before{ content:none !important; }

/* Mobil: Drawer rot; Desktop linke Leiste transparent */
.md-sidebar--primary, .md-nav__source{ background-color: var(--color-main) !important; }
@media (min-width:60em){
  .md-sidebar--primary{ background-color: transparent !important; }
}

/* Mobil: aktiver Link stärker */
@media (max-width:59.999em){
  .md-sidebar--primary .md-nav__link--active{
    color: var(--on-main-strong) !important;
    font-weight: 800 !important;
  }
}


/* ===========================================================
   5) Tabs – mehrzeilig, Icons oben
   =========================================================== */
.md-tabs__list{
  display:flex !important;
  flex-wrap:wrap !important;
  justify-content:center !important;
  gap:.4rem !important;
  padding:.5rem 1rem !important;
}
.md-tabs__item{ flex:0 1 auto !important; max-width:none !important; text-align:center; }
.md-tabs__link{
  display:flex !important; flex-direction:column !important; align-items:center !important; justify-content:center !important;
  text-align:center !important; padding:.6em .8em !important; font-size:.75rem !important; gap:.2rem !important;
}
.md-tabs__link .md-icon{ font-size:1.4rem; margin-bottom:.2em; }
@media (max-width:700px){ .md-tabs__link{ white-space:normal !important; font-size:.7rem !important; }}


/* ===========================================================
   6) Überschriften
   =========================================================== */
h1,h2,h3{ clear:both; }
h2{ margin:4rem 0 2rem !important; border-bottom:2px solid var(--color-main); }
h3{ margin:3rem 0 1rem !important; padding:0 0 .5rem .5rem !important; border-left:3px solid var(--color-accent); }


/* ===========================================================
   7) Textbox
   =========================================================== */
.textbox{
  border:3px solid var(--color-main);
  background-color: var(--md-default-bg-color);
  color: var(--md-default-fg-color);
  padding:1rem 1.5rem; margin:2rem auto; border-radius:8px; box-sizing:border-box;
  line-height:1.6; font-size:1rem; max-width:100%;
}
@media (min-width:768px){ .textbox{ max-width:800px; } }
details.textbox summary{ cursor:pointer; font-weight:700; padding-bottom:.5rem; }
details.textbox[open]{ animation:fadein .3s ease-in-out; }
@keyframes fadein{ from{opacity:0;} to{opacity:1;} }


/* ===========================================================
   8) Admonitions
   =========================================================== */
.md-typeset .admonition,
.md-typeset details.admonition{
  border:3px solid transparent; border-radius:8px;
  padding:1rem 1.5rem; font-size:1rem; line-height:1.6;
  margin:2rem 0; box-sizing:border-box;
  background-color:var(--md-default-bg-color); color:var(--md-default-fg-color);
}
.md-typeset .admonition-title{ font-weight:700; font-size:1rem; margin-bottom:.5rem; }

.md-typeset .admonition.info{    border-color:var(--color-accent); }
.md-typeset .admonition.tip{     border-color:var(--md-accent-fg-color); }
.md-typeset .admonition.warning{ border-color:#FFA000; }
.md-typeset .admonition.danger{  border-color:#C62828; }
.md-typeset .admonition.note{    border-color:var(--md-default-fg-color); }


/* ===========================================================
   9) Medien & Content-Links
   =========================================================== */
article img{
  display:block; margin:1rem auto; max-width:80%;
  border-radius:.5rem; float:none !important;
}
video, iframe{
  max-width:100%; width:100%; height:auto;
  display:block; margin:1rem auto;
}

/* Utility-Klassen */
.width25{ width:25% !important; margin-left:auto; margin-right:auto; display:block; }
.width33{ width:33% !important; margin-left:auto; margin-right:auto; display:block; }
.width50{ width:50% !important; margin-left:auto; margin-right:auto; display:block; }
.width66{ width:66% !important; margin-left:auto; margin-right:auto; display:block; }
.width75{ width:75% !important; margin-left:auto; margin-right:auto; display:block; }
.width90{ width:90% !important; margin-left:auto; margin-right:auto; display:block; }

@media (max-width:500px){
  .width25, .width33, .width50, .width66, .width75, .width90{ width:100% !important; }
}

/* Links im Content */
.md-typeset a{ color: var(--link-color); }


/* ===========================================================
   10) Fokus-Styles (A11y)
   =========================================================== */
:where(a, button, .md-nav__link, .md-tabs__link, .md-header__button, .md-search__form):focus-visible,
:where(a, button, .md-nav__link, .md-tabs__link, .md-header__button, .md-search__form) :focus-visible{
  outline: 2px solid color-mix(in srgb, var(--on-main-strong) 35%, transparent);
  outline-offset: 2px;
  box-shadow: none !important;
}


/* ===========================================================
   11) Deutlicher Hover („Lupe“) Kopf & Fuß
   =========================================================== */

/* Farbmix je Scheme: Kometensilber heller/dunkler */
[data-md-color-scheme="default"]{
  --accent-hover-strong: color-mix(in srgb, var(--md-accent-fg-color) 75%, #ffffff 25%);
}
[data-md-color-scheme="slate"]{
  --accent-hover-strong: color-mix(in srgb, var(--md-accent-fg-color) 80%, #000000 20%);
}

/* Smooth transform + Farbe */
.md-header :is(a, .md-header__button),
.md-tabs   .md-tabs__link,
.md-footer :is(.md-footer-nav__link, .md-footer-meta a, .md-footer-nav__button){
  transition: transform .18s ease, color .18s ease, text-shadow .18s ease;
  transform-origin: center;
  will-change: transform, color;
}

/* Hover: deutliche Lupe + Akzent */
.md-header :is(a, .md-header__button):hover,
.md-tabs   .md-tabs__link:hover,
.md-footer :is(.md-footer-nav__link, .md-footer-meta a, .md-footer-nav__button):hover{
  transform: scale(1.12);
  color: var(--accent-hover-strong) !important;
  text-shadow: 0 0 .35em color-mix(in srgb, var(--md-accent-fg-color) 30%, transparent);
}

/* Aktive Tabs dürfen ebenfalls zoomen */
.md-tabs .md-tabs__link--active:hover{
  transform: scale(1.12);
  color: var(--accent-hover-strong) !important;
}

/* Weniger Bewegung auf Wunsch */
@media (prefers-reduced-motion: reduce){
  .md-header :is(a, .md-header__button),
  .md-tabs   .md-tabs__link,
  .md-footer :is(.md-footer-nav__link, .md-footer-meta a, .md-footer-nav__button){
    transition: color .15s ease;
  }
  .md-header :is(a, .md-header__button):hover,
  .md-tabs   .md-tabs__link:hover,
  .md-footer :is(.md-footer-nav__link, .md-footer-meta a, .md-footer-nav__button):hover{
    transform: none; text-shadow: none;
  }
}


/* ===========================================================
   12) Sidebar-Section-Pills robust erzwingen
   =========================================================== */

/* Section als LABEL (klassisch) */
.md-sidebar--primary .md-nav--primary .md-nav__list
> .md-nav__item--section > label.md-nav__link{
  background: var(--color-main) !important;
  color: var(--on-main-dim) !important;
  border-radius: 10px !important;
  padding: .35rem .65rem !important;
  font-weight: 700 !important;
  box-shadow: none !important;
  display:block; width:100%;
}

/* Section als LINK (wenn die Section auf Index zeigt) */
.md-sidebar--primary .md-nav--primary .md-nav__list
> .md-nav__item--section > .md-nav__link.md-nav__link--index{
  background: var(--color-main) !important;
  color: var(--on-main-dim) !important;
  border-radius: 10px !important;
  padding: .35rem .65rem !important;
  font-weight: 700 !important;
  box-shadow: none !important;
  display:block; width:100%;
}

/* Hover nur Schrift */
.md-sidebar--primary .md-nav__item--section > .md-nav__link:hover{
  color: var(--on-main-strong) !important;
}

/* aktiver Abschnitt (falls Klasse gesetzt) */
.md-sidebar--primary .md-nav__item--section.md-nav__item--active
> .md-nav__link{
  background: var(--color-main) !important;
  color: var(--on-main-dim) !important;
}
