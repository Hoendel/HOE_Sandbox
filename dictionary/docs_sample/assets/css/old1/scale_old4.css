/* =========================================
   Globale Skalierung (Schrift & Grid)
   ========================================= */

/* 1.00 = 100% (Standard). Bereich 0.80..1.20 = ±20% */
:root{
  --layout-scale: 1.00;
  --grid-base: 61rem;        /* Material-Default für Contentbreite */
  --scale-bar-h: 36px;       /* Höhe des Sliders über dem Header */
}

/* Alles, was in rem definiert ist (Material), skaliert damit mit */
html{ font-size: calc(100% * var(--layout-scale)); }

/* Breite der Grid-Spalte proportional mitskalieren (optional) */
@media (min-width: 76.25em){
  .md-grid{ max-width: calc(var(--grid-base) * var(--layout-scale)); }
}

/* ===== Header nach unten schieben, damit oben Platz für die Scale-Bar ist */
.md-header{ top: var(--scale-bar-h) !important; }
@media (max-width: 420px){
  /* Auf ganz kleinen Screens blenden wir die Leiste aus und setzen den Header wieder hoch */
  .md-header{ top: 0 !important; }
}

/* =========================================
   Feste Scale-Bar über dem Header
   ========================================= */
.scale-ctrl{
  position: fixed;
  z-index: 9999;
  top: 0; left: 50%;
  transform: translateX(-50%);     /* genau zentriert */
  height: var(--scale-bar-h);
  display: flex; align-items: center; gap: .35rem;

  padding: .15rem .6rem;
  border-radius: 999px;
  background-color: color-mix(in srgb, var(--on-main-strong) 6%, transparent);
  backdrop-filter: blur(2px);

  /* Der Regler selbst soll NICHT mitskalieren */
  font-size: initial;
  line-height: 1;
}

/* Kleiner Schatten, damit die Leiste sich vom Header abhebt */
.scale-ctrl{ box-shadow: 0 2px 8px rgba(0,0,0,.12); }

.scale-ctrl__label{
  font-weight: 700;
  color: var(--on-main-strong);
  user-select: none;
}

.scale-ctrl__range{
  width: 9rem; height: 1.1rem;
}

.scale-ctrl__btn{
  appearance: none; border: 0; cursor: pointer;
  padding: .25rem .5rem; border-radius: .4rem;
  font-weight: 700;
  color: var(--on-main-strong);
  background: color-mix(in srgb, var(--on-main-strong) 10%, transparent);
}

/* A11y-Fokus */
.scale-ctrl__btn:focus-visible,
.scale-ctrl__range:focus-visible{
  outline: 2px solid color-mix(in srgb, var(--on-main-strong) 35%, transparent);
  outline-offset: 2px;
}

/* Sehr kleine Screens: Bar ausblenden */
@media (max-width: 420px){
  .scale-ctrl{ display: none; }
}
